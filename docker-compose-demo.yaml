services:
  # ì‹¤í–‰ ëª…ë ¹ì–´ : dcp test-demo up --build demo
  demo:
    build: 
      context: ./TomoIDVQuickStart
      dockerfile: Dockerfile

    # ì¼íšŒì„± ë¹Œë“œë¥¼ ìœ„í•œ ì„¤ì •
    restart: "no"
    
    # í˜¸ìŠ¤íŠ¸ì˜ dist í´ë”ì™€ ì—°ê²°
    volumes:
      - ./TomoIDVQuickStart/dist:/app/dist

    # ë¹Œë“œ ì™„ë£Œ í›„ ìë™ ì¢…ë£Œë¥¼ ìœ„í•œ ëª…ë ¹ì–´
    command: >
      sh -c "
        echo 'ğŸš€ Starting build process...' &&
        npm run build:static &&
        echo 'âœ… Build completed successfully!' &&
        echo 'ğŸ“ Build files created in dist folder' &&
        ls -la dist/ &&
        echo 'ğŸ”„ Container will exit now...' &&
        exit 0
      "